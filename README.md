# CardRefinery

## Your Waifu Is Trash. Sit Down.

Let me save you some time: **that character card you're so proud of? It sucks.**

I don't care how long you spent on it. I don't care that "it works fine for me." I don't care that you got 50 downloads on Chub. Fifty people have bad taste. That's not an endorsement, that's a support group for people with low standards.

You know what happens when someone downloads your card and starts chatting? Within three messages, they realize your character's entire personality is "likes coffee" and "mysterious past." The first message is a paragraph of purple prose that says absolutely nothing. The example dialogues read like they were written by someone who learned human interaction from anime subtitles.

**Or maybe you downloaded someone else's garbage and now you're stuck with it.**

Either way, you're here because deep down, you know something's wrong. And that's the first step.

CardRefinery is the intervention your characters need.

---

## What This Actually Does

I'm not going to sugarcoat this for you:

1. **SCORE** â€” An AI tears your card apart. Field by field. No mercy. No "but it's creative!" No participation trophies.
2. **REWRITE** â€” That same AI fixes what you couldn't or wouldn't fix yourself.
3. **ANALYZE** â€” Checks if we accidentally lobotomized your character in the process. Because "better" doesn't mean shit if it's not _them_ anymore.

Then you iterate until it's actually good. Or you give up and accept mediocrity. Your call. I'm not your therapist.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SCORE     â”‚ â”€â”€â”€â–¶ â”‚   REWRITE   â”‚ â”€â”€â”€â–¶ â”‚   ANALYZE   â”‚
â”‚  Tear apart â”‚      â”‚   Rebuild   â”‚      â”‚ Soul check  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                                        â”‚
       â”‚        STILL NOT GOOD ENOUGH?          â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## "But My Card Is Fine!"

No. Shut up. Let me tell you why you're wrong:

### "She has a detailed personality!"

Does she? Or did you just write "kind, caring, shy, clumsy" like 80% of anime girls and call it a day? That's not a personality. That's a fucking horoscope. The AI has no idea how to roleplay "kind" because YOU don't know what that means for THIS character.

Does she remember everyone's coffee order? Leave anonymous notes of encouragement? Adopt stray cats even though her landlord said no? THAT'S personality. What you wrote is a vague suggestion.

### "The description is thorough!"

Cool, you wrote 4000 tokens about her hair color and 12 tokens about why anyone should give a shit about talking to her. The AI is going to focus on what you emphasized. You emphasized that her eyes are "cerulean orbs." Congratulations on your priorities.

### "My example messages are good!"

Are they? Or are they "_She smiles softly_ Hello there, how are you today?" Because that's not teaching the AI anything except that your character is boring as fuck and you should both be ashamed.

### "The character is consistent!"

Then why does she forget who she is after 10 messages? That's not the model being bad. That's your card giving contradictory or vague instructions. The AI is doing exactly what you told it to do - you just told it to do something stupid.

### "I've been working on this for hours and I can't tell anymore!"

Yeah. I know. That's why you need fresh eyes with zero emotional investment in your creative decisions. An AI that will tell you "this part sucks and here's why" instead of "wow that's really creative" like your friend who doesn't want to hurt your feelings.

---

## The Pipeline (What's About To Happen To Your Card)

### SCORE: The Part Where You Feel Bad

Your character sits down across from an AI critic who has seen thousands of cards and gives zero fucks about your ego.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SCORE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  IN: Your "masterpiece"         OUT: A reality check             â”‚
â”‚                                                                  â”‚
â”‚      â€¢ Every field you select        â€¢ Scores (1-10, and you    â”‚
â”‚      â€¢ Your fragile hope              won't like most of them)  â”‚
â”‚                                      â€¢ What barely works         â”‚
â”‚                                      â€¢ What's actively bad       â”‚
â”‚                                      â€¢ "Fix these first, idiot"  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Here's what that looks like:**

> **Description: 4/10**
> _Strengths:_ Clear physical appearance. At least you tried.
> _Weaknesses:_ Reads like a police report crossed with a thesaurus. "Her cerulean orbs sparkled with mysteries untold" â€” gag me. What's her VIBE? Does she slouch? Fidget? Make aggressive eye contact? You described a mannequin.
> _Fix it:_ Cut 70% of the physical description. Add how she MOVES through the world. Give me behavior, not measurements.

> **Personality: 2/10**
> _Strengths:_ ...it exists, I guess. Good job typing words.
> _Weaknesses:_ "Shy but opens up over time" is not a personality. It's a fortune cookie. This tells the AI absolutely nothing about HOW she's shy, WHAT she opens up about, or WHY anyone would bother waiting.
> _Fix it:_ Specifics. Does she communicate through memes because direct conversation terrifies her? Does she overshare about niche interests the moment she feels safe? GIVE ME SOMETHING.

That's the Score stage. It hurts because it's true.

### REWRITE: The Part Where I Fix Your Shit

Now an AI editor takes that feedback and does what you couldn't: actually improves the card.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          REWRITE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  MODES (pick your poison):                                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ”§ CONSERVATIVE                                                 â”‚
â”‚     "I know what I'm doing, just fix the obvious stuff"          â”‚
â”‚     For control freaks who can't let go.                         â”‚
â”‚                                                                  â”‚
â”‚  âš–ï¸  DEFAULT                                                     â”‚
â”‚     "Make it better, I trust you, don't go insane"               â”‚
â”‚     For normal humans.                                           â”‚
â”‚                                                                  â”‚
â”‚  ğŸš€ EXPANSIVE                                                    â”‚
â”‚     "GO. HAM. Give me DEPTH. Give me LAYERS. Give me SOUL."      â”‚
â”‚     For people who downloaded a skeleton and need a character.   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

The rewriter sees the score feedback. It knows exactly what's broken. It won't randomly change shit that works â€” it targets the dumpster fires.

**What it WON'T do:** Turn your character into someone else. Lose their voice. Generic-ify them. We're not here to create mass-produced waifus. We're here to make YOUR trash waifu less trash while keeping her YOUR trash waifu.

### ANALYZE: The Part Where We Make Sure You Still Recognize Her

Here's the thing: improving a card is useless if you kill what made it special. Your tsundere becomes a doormat. Your chaotic gremlin becomes "quirky and random XD." Your morally gray antihero becomes a brooding edgelord.

That's not improvement. That's character assassination.

The Analyze stage asks the only question that matters: **"Is this still the same bitch, or did we create a skinwalker?"**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ANALYZE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  âœ… ACCEPT                                                       â”‚
â”‚     "Ship it. Objectively better. Still them."                   â”‚
â”‚                                                                  â”‚
â”‚  ğŸ”„ NEEDS_REFINEMENT                                             â”‚
â”‚     "Getting there, but we broke something. Go again."           â”‚
â”‚                                                                  â”‚
â”‚  âŒ REGRESSION                                                   â”‚
â”‚     "We made it worse. Revert. Touch grass. Try again."          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**What "soul preservation" actually means:**

- Core personality traits intact? (Is she still mean?)
- Distinctive voice maintained? (Does she still talk like HER?)
- Unique quirks preserved? (Is she still obsessed with that weird thing?)
- Does she still FEEL like the same person you created?

If the answer is no, we torch the rewrite and try again. We're not in the business of producing generic AI slop.

---

## The Iteration Loop (Where You Actually Get Results)

One pass is never enough. Don't be naive. Real improvement is iterative.

```
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Pick a victim   â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚         SCORE            â”‚
                           â”‚   "Tell me what's wrong" â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚       REWRITE       â”‚
                             â”‚    "Fix it then"    â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚       ANALYZE       â”‚
                             â”‚  "Did we break it?" â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â–¼                     â–¼                     â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ ACCEPT  â”‚           â”‚  NEEDS  â”‚           â”‚REGRESSIONâ”‚
             â”‚   ğŸ‰    â”‚           â”‚ REFINE  â”‚           â”‚    ğŸ’€    â”‚
             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                  â”‚                     â”‚                     â”‚
                  â–¼                     â”‚                     â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚  DONE   â”‚                â”‚              â”‚ REVERT  â”‚
             â”‚  W I N  â”‚                â”‚              â”‚ try diff â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚                   â”‚
                          Add guidance: â”‚                   â”‚
                          "Keep the sass"â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          "Don't soften her"
                          "The trauma STAYS"
                                        â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ REWRITE (again)
```

### Why Context Matters

Each stage knows what came before. This isn't random AI bullshit â€” there's continuity:

- **Score** sees your original disaster
- **Rewrite** sees your original + what Score said was broken + your custom guidance
- **Analyze** compares rewrite against ORIGINAL (not last iteration), preventing drift

**That last part is important:** We always compare against your ORIGINAL card, not the previous rewrite. Otherwise your character slowly mutates over iterations until she's unrecognizable. We're not about that.

### User Guidance: Tell The AI What You Want

When you get NEEDS_REFINEMENT, the analysis tells you what went wrong. Use the guidance field to yell at the AI:

**Analysis said:** "Lost her sarcastic edge â€” she's too nice now"

**Your guidance:** "BRING BACK THE SASS. She's not nice. She's a bitch with a heart of gold buried under 17 layers of defense mechanisms. Her being mean IS the point."

**Next iteration:** Sass returns. AI understood the assignment.

---

## Every Run Is Saved. EVERY. ONE.

See something you liked better from three iterations ago? Restore it. Try a different path. You're never locked in. The extension saves your history because I know you're going to want to go back.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Run History                                                 â–¼   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ Score       "Overall: 4/10. Brutal but fair."    [â†º Restore] â”‚
â”‚  âœï¸ Rewrite    "Sarah is a barista who..."          [â†º Restore] â”‚
â”‚  ğŸ” Analyze    "NEEDS_REFINEMENT. Lost the sass"    [â†º Restore] â”‚
â”‚  âœï¸ Rewrite    "Sarah is a barista whose smile..."  [â†º Restore] â”‚
â”‚  ğŸ” Analyze    "ACCEPT. Ship it."                   [â†º Restore] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Features That Actually Matter

### Field-Level Control

I'm not just going to tell you "6/10" and leave you to figure it out. You get granular feedback on:

- Name
- Description
- Personality
- Scenario
- First Message
- Example Messages
- System Prompt
- Post-History Instructions
- Creator Notes
- Tags
- Alternate Greetings (individually)

Select what you want to process. Only care about dialogue? Just pick first message + examples. Trying to fix her vibe? Description + personality. I'm not going to waste your tokens on shit you don't care about.

### Per-Stage Field Control

Different fields for different stages:

- Score everything to find ALL the problems
- Only rewrite the broken parts
- Analyze the whole picture

Or keep them linked. Your funeral.

### Real-Time Token Counting

See exactly how big your prompt is BEFORE you hit run and wait 30 seconds for a context overflow error. I respect your time even if you don't.

### Presets (Because You're Lazy)

8 built-in presets ready to go:

| Preset                   | What It Does                          |
| ------------------------ | ------------------------------------- |
| **Default Score**        | Full roast, every field               |
| **Quick Score**          | Fast vibes check, less detail         |
| **Default Rewrite**      | Balanced improvements                 |
| **Conservative Rewrite** | Surgical precision for control freaks |
| **Expansive Rewrite**    | ADD DEPTH. ADD SOUL. GO INSANE.       |
| **Default Analyze**      | Full soul check                       |
| **Iteration Analyze**    | Tracks progress across iterations     |
| **Quick Analyze**        | Fast verdict, less yapping            |

Make your own. Save them. Share them with your degenerate friends. I don't care.

### Structured Output (JSON Schema) â€” THIS IS WHERE IT GETS INSANE

Okay listen up because this is the feature that separates the casual users from the fucking power users.

**Structured Output** forces the AI to respond in a specific JSON format. Not "here's some text that's kind of organized." Actual, parseable, consistent data structures that you define. The extension renders them beautifully â€” scores become visual bars, verdicts get color coding, sections auto-collapse.

**But here's where it gets wild: You don't need to know JSON Schema.**

Click the **Generate** button. Describe what you want in plain English. Watch the AI build you a working schema in seconds.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCHEMA GENERATION                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  You type:                                                       â”‚
â”‚  "rating 1-10 for each field with confidence levels,             â”‚
â”‚   list of critical issues vs minor nitpicks,                     â”‚
â”‚   overall vibe check (shit/mid/decent/good/excellent),           â”‚
â”‚   and a sarcasm score for how mean the feedback should be"       â”‚
â”‚                                                                  â”‚
â”‚  AI generates:                                                   â”‚
â”‚  {                                                               â”‚
â”‚    "type": "object",                                             â”‚
â”‚    "properties": {                                               â”‚
â”‚      "field_ratings": { ... },                                   â”‚
â”‚      "critical_issues": { ... },                                 â”‚
â”‚      "minor_nitpicks": { ... },                                  â”‚
â”‚      "vibe_check": {                                             â”‚
â”‚        "enum": ["shit", "mid", "decent", "good", "excellent"]    â”‚
â”‚      },                                                          â”‚
â”‚      "sarcasm_level": { "minimum": 1, "maximum": 10 }            â”‚
â”‚    }                                                             â”‚
â”‚  }                                                               â”‚
â”‚                                                                  â”‚
â”‚  Click Save. Done. You now have custom structured output.        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Wait, it gets better.**

You can save schemas as presets. Mix and match with prompt presets. Create completely custom evaluation systems:

**Weird shit you can do:**

ğŸ¯ **Custom scoring rubrics** â€” "Score this card on: horny potential (1-10), emotional depth (1-10), likelihood to cause attachment issues (high/medium/low)"

ğŸ”® **Tarot-style readings** â€” "Analyze this character using a three-card spread metaphor: Past (what formed them), Present (who they are), Future (what they could become)"

ğŸ“Š **Competitive analysis** â€” "Compare this card against common archetypes. Rate similarity to: tsundere (%), kuudere (%), genki girl (%), and 'unhinged'(%)"

âš ï¸ **Red flag detection** â€” "List every red flag in this character's design. Categorize as: clichÃ©, contradictory, cringe, or concerningly specific"

ğŸ­ **Roleplay compatibility** â€” "Rate this card's compatibility with different RP styles: slice of life, drama, action, comedy, romance, horror"

ğŸ’€ **The Honest Assessment** â€” "Give three ratings: what the creator thinks they made (1-10), what they actually made (1-10), and how much copium will be needed to accept this feedback"

**The Generate button handles all the JSON syntax bullshit.** You just describe what you want. The AI figures out enums, arrays, nested objects, constraints, all of it.

And because it's validated JSON schema, the model HAS to respond in that format. No more inconsistent outputs. No more "well, it kind of addressed my question." You get exactly what you asked for, every time.

**Built-in schema presets get you started:**

- Score schema (field ratings + overall + priority fixes)
- Analyze schema (preserved/lost/gained + verdict + soul score)

But the real power is building your own. Get creative. Get weird. The extension doesn't judge.

### Session Management

- **Auto-save** â€” Close the popup, come back next week, everything's there
- **Multiple sessions** â€” Different approaches for the same character
- **Full history** â€” Every iteration recoverable
- **IndexedDB** â€” Your main SillyTavern settings don't get bloated

### Export Your W

When you're done:

- **Apply to Card** â€” Write directly to your character
- **Download PNG** â€” Card image with embedded data
- **Download JSON** â€” Raw data backup

### Compare View

Side-by-side original vs. rewritten with diff highlighting. See exactly what changed so you can argue with the AI about its choices.

### API Profile Support

Different models for different stages. Your meanest model for scoring. Your most creative model for rewriting. Local model for saving money. Mix and match.

---

## Installation

### From SillyTavern (Easy Mode)

1. Open SillyTavern
2. Go to **Extensions** (stacked cubes icon)
3. Click **Install Extension**
4. Paste: `https://github.com/Inktomi93/SillyTavern-CardRefinery`
5. Click **Install**
6. Refresh browser
7. Find **CardRefinery** in Extensions panel

### Manual (You Know What You're Doing)

```bash
cd SillyTavern/data/<your-user>/extensions/third-party/
git clone https://github.com/Inktomi93/SillyTavern-CardRefinery
```

Restart SillyTavern.

---

## Quick Start

### 1. Open It

Extensions panel â†’ CardRefinery â†’ Open button. It's not hidden.

### 2. Pick Your Victim

Search for a character. Click them. Token counts appear. Face reality.

### 3. Select Fields

Everything populated is selected by default. Uncheck what you're too scared to improve. I'll judge you silently.

### 4. Configure (Optional)

Defaults work. If you want to customize:

- Switch presets
- Add guidance ("keep her mean")
- Enable/disable structured output
- Unlink field selection per stage

### 5. Run

| Button      | What It Does                                       |
| ----------- | -------------------------------------------------- |
| **Run**     | Execute current stage                              |
| **All**     | Full pipeline: Score â†’ Rewrite â†’ Analyze           |
| **Iterate** | Rewrite â†’ Analyze with guidance (after first pass) |
| **Stop**    | Cancel if your patience runs out                   |
| **Reset**   | Nuke everything, start fresh                       |

### 6. Read The Results

Results appear below. Scores render visually. Sections collapse. Copy button works. It's all very intuitive. You'll figure it out.

### 7. Iterate

After Analyze:

1. Read what went wrong
2. Add guidance
3. Click Iterate
4. Repeat until ACCEPT or despair

### 8. Export Your W

Rewrite tab â†’ Apply / Export â†’ Pick your format.

---

## Compatibility

### Works

**Chat Completion APIs:** OpenRouter, OpenAI, Anthropic, Google AI Studio, Mistral, Groq, together.ai, any OpenAI-compatible endpoint.

### Probably Works

Most things SillyTavern supports. If ST can talk to it, we probably can too.

### Unknown

**Text Completion APIs:** Untested. Might work. Might not. Tell me if you try it.

---

## Tips For Actually Getting Results

### Use A Smart Model

Use whatever frontier model you have access to. If your model thinks every card is "creative and compelling," it's lying to you and you need something smarter. Dumber models give dumber feedback â€” garbage in, garbage out.

### Don't Skip Analyze

Yeah yeah, you want to just take the rewrite and go. Don't. The soul check catches problems you won't notice until 50 messages deep when you're wondering why your character feels weird.

### Trust REGRESSION

If the AI says it got worse, it got worse. Revert. Different guidance. Conservative mode. The AI isn't being dramatic â€” you broke something.

### 2-3 Iterations Max

Not converging after 3? The problem might be fundamental. Some cards need manual surgery before the pipeline can help. I'm a refinement tool, not a miracle worker.

### Use The Guidance Field

It's powerful. "Keep her mean." "The clumsiness is ENDEARING, don't remove it." "She's not evil, she just has RBF." The more specific you are, the better this works.

---

## Troubleshooting

### Extension doesn't appear

Refresh. Check it's enabled. F12 console.

### Generation fails

Check API connection (status shows in popup). Verify credits. Try different model.

### Results look weird

Disable Structured Output if your model doesn't support it. Try smarter model. Check custom prompts aren't fighting base instructions.

### "No character selected"

Click a character in search results. They need at least one field with content.

---

## Requirements

- SillyTavern 1.12.0+ (probably works earlier, not tested)
- A working Chat Completion API
- A model that can follow instructions (frontier models recommended, not your 7B local copium machine)
- A character card that needs help (don't pretend you don't have one)

---

## License

MIT â€” Do whatever.

---

## Support

[GitHub Issues](https://github.com/Inktomi93/SillyTavern-CardRefinery/issues)

---

_"Her entire personality was 'shy catgirl who likes headpats.' Three iterations later she's a recovering hikikomori who adopted the cat persona as social camouflage, uses kawaii speak ironically to keep people at arm's length while desperately craving genuine connection, and has strong opinions about instant ramen brands. The pipeline works."_

â€” Results may vary. Side effects include: emotional attachment to fictional characters, unreasonably high standards for AI content, and the sudden realization that YOUR OC also needs therapy.

---

**Now stop reading and go fix your cards. They're not going to improve themselves.**
