/**
 * Session Option Component
 *
 * Session list item in the session dropdown.
 * Shows name, metadata, and inline action buttons.
 */

.cr-session-option {
    display: flex;
    align-items: center;
    gap: var(--cr-space-2);
    padding: var(--cr-space-2) var(--cr-space-3);
    border-bottom: 1px solid var(--cr-border-muted);
    cursor: pointer;
    transition: background var(--cr-transition-fast);

    &:last-child {
        border-bottom: none;
    }

    &:hover {
        background: var(--cr-bg-tertiary);
    }

    &--active {
        background: var(--cr-accent-muted);

        &:hover {
            background: var(--cr-accent-muted);
        }
    }

    &__content {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: var(--cr-space-1);
    }

    &__name {
        display: flex;
        align-items: center;
        gap: var(--cr-space-2);
        font-size: var(--cr-text-sm);
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    &__indicator {
        font-size: 6px;
        color: var(--cr-accent);
        flex-shrink: 0;
    }

    &__name-input {
        flex: 1;
        padding: var(--cr-space-1) var(--cr-space-2);
        font-size: var(--cr-text-sm);
        border: 1px solid var(--cr-accent);
        border-radius: var(--cr-radius-sm);
        background: var(--cr-bg);
        color: var(--cr-text);
        outline: none;

        &:focus {
            box-shadow: 0 0 0 2px var(--cr-accent-muted);
        }
    }

    &__meta {
        display: flex;
        gap: var(--cr-space-2);
        font-size: var(--cr-text-xs);
        color: var(--cr-text-muted);

        & span::after {
            content: 'â€¢';
            margin-left: var(--cr-space-2);
            opacity: 0.5;
        }

        & span:last-child::after {
            display: none;
        }
    }

    &__actions {
        display: flex;
        gap: var(--cr-space-1);
        opacity: 0;
        transition: opacity var(--cr-transition-fast);

        &--editing {
            opacity: 1;
        }

        & .menu_button--ghost {
            padding: var(--cr-space-1);

            &:hover {
                background: var(--cr-bg-secondary);
            }
        }

        & .cr-session-delete:hover {
            color: var(--cr-danger);
        }
    }

    &:hover &__actions {
        opacity: 1;
    }

    /* Always show actions on touch devices */
    @media (--mobile) {
        &__actions {
            opacity: 1;
        }
    }
}
