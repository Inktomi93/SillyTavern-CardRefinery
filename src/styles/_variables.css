/**
 * Design Tokens
 *
 * CSS custom properties that inherit from SillyTavern's SmartTheme system.
 * Scoped to CT root containers to ensure proper cascade.
 */

/* Custom media queries for consistent breakpoints */
@custom-media --mobile (max-width: 768px);
@custom-media --tablet (max-width: 900px);
@custom-media --desktop (min-width: 769px);
@custom-media --touch (max-width: 768px);
@custom-media --reduced-motion (prefers-reduced-motion: reduce);
@custom-media --high-contrast (prefers-contrast: high);

/* Design tokens shared by all CT components */
.ct-popup,
.ct-settings-modal,
.ct-drawer {
    /* ═══════════════════════════════════════════════════════════════════════════
       COLORS - Inherit from SillyTavern SmartTheme
       ═══════════════════════════════════════════════════════════════════════════ */

    /* Backgrounds */
    --ct-bg: var(--SmartThemeBlurTintColor);
    --ct-bg-secondary: var(--black30a, rgba(0, 0, 0, 0.3));
    --ct-bg-tertiary: var(--black50a, rgba(0, 0, 0, 0.5));
    --ct-bg-elevated: color-mix(
        in srgb,
        var(--SmartThemeBlurTintColor) 90%,
        white 10%
    );

    /* Text */
    --ct-text: var(--SmartThemeBodyColor);
    --ct-text-muted: color-mix(
        in srgb,
        var(--SmartThemeBodyColor) 70%,
        transparent
    );
    --ct-text-dim: color-mix(
        in srgb,
        var(--SmartThemeBodyColor) 50%,
        transparent
    );

    /* Borders */
    --ct-border: var(--SmartThemeBorderColor);
    --ct-border-muted: color-mix(
        in srgb,
        var(--SmartThemeBorderColor) 50%,
        transparent
    );

    /* Accent */
    --ct-accent: var(--SmartThemeQuoteColor);
    --ct-accent-hover: color-mix(
        in srgb,
        var(--SmartThemeQuoteColor) 80%,
        white
    );
    --ct-accent-muted: color-mix(
        in srgb,
        var(--SmartThemeQuoteColor) 30%,
        transparent
    );

    /* Semantic Colors */
    --ct-success: var(--okGreen70a, #4caf50);
    --ct-success-bg: color-mix(
        in srgb,
        var(--okGreen70a, #4caf50) 15%,
        transparent
    );
    --ct-warning: var(--golden, #ff9800);
    --ct-warning-bg: color-mix(
        in srgb,
        var(--golden, #ff9800) 15%,
        transparent
    );
    --ct-danger: var(--fullred, #f44336);
    --ct-danger-bg: color-mix(
        in srgb,
        var(--fullred, #f44336) 15%,
        transparent
    );

    /* ═══════════════════════════════════════════════════════════════════════════
       SPACING SCALE - 4px base, follows 4-8-12-16-20-24-32-48 progression
       ═══════════════════════════════════════════════════════════════════════════ */
    --ct-space-1: 0.25rem; /* 4px - tight gaps, icon padding */
    --ct-space-2: 0.5rem; /* 8px - default gap, small padding */
    --ct-space-3: 0.75rem; /* 12px - section padding, medium gap */
    --ct-space-4: 1rem; /* 16px - large padding, section gap */
    --ct-space-5: 1.25rem; /* 20px - header padding */
    --ct-space-6: 1.5rem; /* 24px - major section separation */
    --ct-space-8: 2rem; /* 32px - panel gaps */
    --ct-space-12: 3rem; /* 48px - major layout spacing */

    /* ═══════════════════════════════════════════════════════════════════════════
       TYPOGRAPHY - Inherit from ST, define scales
       ═══════════════════════════════════════════════════════════════════════════ */
    --ct-font: var(--mainFontFamily, system-ui, -apple-system, sans-serif);
    --ct-font-mono: var(--monoFontFamily, 'Consolas', 'Monaco', monospace);
    --ct-font-size: var(--mainFontSize, 1rem);

    /* Font size scale */
    --ct-text-xs: calc(var(--ct-font-size) * 0.75); /* 12px @ 16px base */
    --ct-text-sm: calc(var(--ct-font-size) * 0.875); /* 14px */
    --ct-text-base: var(--ct-font-size); /* 16px */
    --ct-text-lg: calc(var(--ct-font-size) * 1.125); /* 18px */
    --ct-text-xl: calc(var(--ct-font-size) * 1.25); /* 20px */

    /* ═══════════════════════════════════════════════════════════════════════════
       RADII - Match ST's rounded aesthetic
       ═══════════════════════════════════════════════════════════════════════════ */
    --ct-radius-sm: 4px;
    --ct-radius: 8px;
    --ct-radius-lg: 12px;
    --ct-radius-pill: 9999px;

    /* ═══════════════════════════════════════════════════════════════════════════
       SHADOWS & EFFECTS
       ═══════════════════════════════════════════════════════════════════════════ */
    --ct-shadow-sm: 0 1px 3px var(--black30a, rgba(0, 0, 0, 0.3));
    --ct-shadow: 0 4px 12px var(--black30a, rgba(0, 0, 0, 0.3));
    --ct-shadow-lg: 0 8px 24px var(--black50a, rgba(0, 0, 0, 0.5));

    /* Transitions - use ST's animation-duration */
    --ct-transition-fast: var(--animation-duration, 150ms) ease;
    --ct-transition: var(--animation-duration-slow, 300ms) ease;

    /* ═══════════════════════════════════════════════════════════════════════════
       LAYOUT TOKENS
       ═══════════════════════════════════════════════════════════════════════════ */
    --ct-panel-min: 280px;
    --ct-panel-max: 480px;
    --ct-header-height: 48px;
}
