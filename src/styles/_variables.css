/**
 * Design Tokens
 *
 * CSS custom properties that inherit from SillyTavern's SmartTheme system.
 * Scoped to CT root containers to ensure proper cascade.
 */

/* Custom media queries for consistent breakpoints */
@custom-media --mobile (max-width: 768px);
@custom-media --tablet (max-width: 900px);
@custom-media --desktop (min-width: 769px);
@custom-media --touch (max-width: 768px);
@custom-media --reduced-motion (prefers-reduced-motion: reduce);
@custom-media --high-contrast (prefers-contrast: high);

/* Design tokens shared by all CT components */
.cr-popup,
.cr-settings-modal,
.cr-drawer,
.cr-apply-dialog {
    /* ═══════════════════════════════════════════════════════════════════════════
       COLORS - Inherit from SillyTavern SmartTheme
       ═══════════════════════════════════════════════════════════════════════════ */

    /* Backgrounds */
    --cr-bg: var(--SmartThemeBlurTintColor);
    --cr-bg-secondary: var(--black30a, rgba(0, 0, 0, 0.3));
    --cr-bg-tertiary: var(--black50a, rgba(0, 0, 0, 0.5));
    --cr-bg-elevated: color-mix(
        in srgb,
        var(--SmartThemeBlurTintColor) 90%,
        white 10%
    );

    /* Text */
    --cr-text: var(--SmartThemeBodyColor);
    --cr-text-muted: color-mix(
        in srgb,
        var(--SmartThemeBodyColor) 70%,
        transparent
    );
    --cr-text-dim: color-mix(
        in srgb,
        var(--SmartThemeBodyColor) 50%,
        transparent
    );

    /* Borders */
    --cr-border: var(--SmartThemeBorderColor);
    --cr-border-muted: color-mix(
        in srgb,
        var(--SmartThemeBorderColor) 50%,
        transparent
    );

    /* Accent */
    --cr-accent: var(--SmartThemeQuoteColor);
    --cr-accent-hover: color-mix(
        in srgb,
        var(--SmartThemeQuoteColor) 80%,
        white
    );
    --cr-accent-muted: color-mix(
        in srgb,
        var(--SmartThemeQuoteColor) 30%,
        transparent
    );

    /* Semantic Colors */
    --cr-success: var(--okGreen70a, #4caf50);
    --cr-success-bg: color-mix(
        in srgb,
        var(--okGreen70a, #4caf50) 15%,
        transparent
    );
    --cr-warning: var(--golden, #ff9800);
    --cr-warning-bg: color-mix(
        in srgb,
        var(--golden, #ff9800) 15%,
        transparent
    );
    --cr-danger: var(--fullred, #f44336);
    --cr-danger-bg: color-mix(
        in srgb,
        var(--fullred, #f44336) 15%,
        transparent
    );

    /* ═══════════════════════════════════════════════════════════════════════════
       SPACING SCALE - 4px base, follows 4-8-12-16-20-24-32-48 progression
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-space-1: 0.25rem; /* 4px - tight gaps, icon padding */
    --cr-space-2: 0.5rem; /* 8px - default gap, small padding */
    --cr-space-3: 0.75rem; /* 12px - section padding, medium gap */
    --cr-space-4: 1rem; /* 16px - large padding, section gap */
    --cr-space-5: 1.25rem; /* 20px - header padding */
    --cr-space-6: 1.5rem; /* 24px - major section separation */
    --cr-space-8: 2rem; /* 32px - panel gaps */
    --cr-space-12: 3rem; /* 48px - major layout spacing */

    /* ═══════════════════════════════════════════════════════════════════════════
       TYPOGRAPHY - Inherit from ST, define scales
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-font: var(--mainFontFamily, system-ui, -apple-system, sans-serif);
    --cr-font-mono: var(--monoFontFamily, 'Consolas', 'Monaco', monospace);
    --cr-font-size: var(--mainFontSize, 1rem);

    /* Font size scale */
    --cr-text-xs: calc(var(--cr-font-size) * 0.75); /* 12px @ 16px base */
    --cr-text-sm: calc(var(--cr-font-size) * 0.875); /* 14px */
    --cr-text-base: var(--cr-font-size); /* 16px */
    --cr-text-lg: calc(var(--cr-font-size) * 1.125); /* 18px */
    --cr-text-xl: calc(var(--cr-font-size) * 1.25); /* 20px */

    /* ═══════════════════════════════════════════════════════════════════════════
       RADII - Match ST's rounded aesthetic
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-radius-sm: 4px;
    --cr-radius: 8px;
    --cr-radius-lg: 12px;
    --cr-radius-pill: 9999px;

    /* ═══════════════════════════════════════════════════════════════════════════
       SHADOWS & EFFECTS
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-shadow-sm: 0 1px 3px var(--black30a, rgba(0, 0, 0, 0.3));
    --cr-shadow: 0 4px 12px var(--black30a, rgba(0, 0, 0, 0.3));
    --cr-shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15); /* Card hover state */
    --cr-shadow-lg: 0 8px 24px var(--black50a, rgba(0, 0, 0, 0.5));
    --cr-shadow-drawer: -4px 0 24px rgba(0, 0, 0, 0.4); /* Drawer slide-in */

    /* Overlays & Backdrops */
    --cr-backdrop: rgba(0, 0, 0, 0.6);
    --cr-backdrop-blur: blur(4px);

    /* Transitions - use ST's animation-duration */
    --cr-transition-fast: var(--animation-duration, 150ms) ease;
    --cr-transition: var(--animation-duration-slow, 300ms) ease;

    /* ═══════════════════════════════════════════════════════════════════════════
       LAYOUT TOKENS
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-panel-min: 280px;
    --cr-panel-max: 480px;
    --cr-header-height: 48px;

    /* Component sizes */
    --cr-avatar-size: 48px;
    --cr-avatar-size-sm: 32px;
    --cr-icon-size: 24px;
    --cr-icon-size-sm: 18px;

    /* ═══════════════════════════════════════════════════════════════════════════
       SCORE COLORS - For numeric score display (1-10 ratings)
       ═══════════════════════════════════════════════════════════════════════════ */
    --cr-score-high: #10b981; /* 9-10: Excellent */
    --cr-score-good: #22c55e; /* 7-8: Good */
    --cr-score-mid: #eab308; /* 5-6: Average */
    --cr-score-low: #f97316; /* 3-4: Below average */
    --cr-score-bad: #ef4444; /* 1-2: Poor */
}
