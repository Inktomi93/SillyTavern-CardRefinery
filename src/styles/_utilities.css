/**
 * Layout Primitives & Utility Classes
 *
 * Composable flex utilities for building layouts.
 * Complement ST's existing utilities with similar naming patterns.
 */

/* ═══════════════════════════════════════════════════════════════════════════════
   STACK - Vertical flex layout with consistent gap
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-stack {
    display: flex;
    flex-direction: column;
    gap: var(--cr-space-3);

    &--tight {
        gap: var(--cr-space-2);
    }

    &--loose {
        gap: var(--cr-space-4);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   ROW - Horizontal flex layout
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: var(--cr-space-2);

    &--wrap {
        flex-wrap: wrap;
    }

    &--between {
        justify-content: space-between;
    }

    &--end {
        justify-content: flex-end;
    }

    &--stretch {
        align-items: stretch;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   GRID - Grid layouts
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-grid {
    display: grid;
    gap: var(--cr-space-3);

    &--2col {
        grid-template-columns: repeat(2, 1fr);

        @media (--mobile) {
            grid-template-columns: 1fr;
        }
    }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FLEX UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-flex-1 {
    flex: 1 1 0%;
}

.cr-flex-auto {
    flex: 1 1 auto;
}

.cr-flex-none {
    flex: none;
}

.cr-shrink-0 {
    flex-shrink: 0;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   SPACING UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Gap */
.cr-gap-1 {
    gap: var(--cr-space-1);
}

.cr-gap-2 {
    gap: var(--cr-space-2);
}

.cr-gap-3 {
    gap: var(--cr-space-3);
}

.cr-gap-4 {
    gap: var(--cr-space-4);
}

/* Padding */
.cr-p-2 {
    padding: var(--cr-space-2);
}

.cr-p-3 {
    padding: var(--cr-space-3);
}

.cr-p-4 {
    padding: var(--cr-space-4);
}

/* Margin top */
.cr-mt-2 {
    margin-top: var(--cr-space-2);
}

.cr-mt-3 {
    margin-top: var(--cr-space-3);
}

.cr-mt-4 {
    margin-top: var(--cr-space-4);
}

.cr-mt-auto {
    margin-top: auto;
}

/* Margin bottom */
.cr-mb-2 {
    margin-bottom: var(--cr-space-2);
}

.cr-mb-3 {
    margin-bottom: var(--cr-space-3);
}

.cr-mb-4 {
    margin-bottom: var(--cr-space-4);
}

/* Margin left/right */
.cr-ml-auto {
    margin-left: auto;
}

.cr-mr-auto {
    margin-right: auto;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   WIDTH UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-w-full {
    width: 100%;
}

.cr-min-w-0 {
    min-width: 0;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   OVERFLOW UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-overflow-auto {
    overflow: auto;
}

.cr-overflow-hidden {
    overflow: hidden;
}

.cr-overflow-y-auto {
    overflow-y: auto;
}

/* Scrollable container with styled scrollbar */
.cr-scrollable {
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--cr-border) transparent;

    &::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    &::-webkit-scrollbar-track {
        background: transparent;
    }

    &::-webkit-scrollbar-thumb {
        background: var(--cr-border);
        border-radius: var(--cr-radius-pill);

        &:hover {
            background: var(--cr-accent);
        }
    }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   TEXT UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Colors */
.cr-text-muted {
    color: var(--cr-text-muted);
}

.cr-text-dim {
    color: var(--cr-text-dim);
}

.cr-text-accent {
    color: var(--cr-accent);
}

.cr-text-success {
    color: var(--cr-success);
}

.cr-text-warning {
    color: var(--cr-warning);
}

.cr-text-danger {
    color: var(--cr-danger);
}

/* Sizes */
.cr-text-xs {
    font-size: var(--cr-text-xs);
}

.cr-text-sm {
    font-size: var(--cr-text-sm);
}

.cr-text-lg {
    font-size: var(--cr-text-lg);
}

/* Styles */
.cr-text-mono {
    font-family: var(--cr-font-mono);
}

.cr-text-center {
    text-align: center;
}

.cr-text-right {
    text-align: right;
}

.cr-font-medium {
    font-weight: 500;
}

.cr-font-semibold {
    font-weight: 600;
}

/* Truncation */
.cr-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.cr-line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   VISUAL UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.cr-hidden {
    display: none !important;
}

.cr-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}
